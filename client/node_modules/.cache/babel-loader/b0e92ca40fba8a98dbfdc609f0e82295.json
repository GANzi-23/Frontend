{"ast":null,"code":"var _jsxFileName = \"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PeerContext = /*#__PURE__*/React.createContext(null);\nexport const usePeer = () => {\n  _s();\n  return React.useContext(PeerContext);\n};\n_s(usePeer, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const PeerProvider = props => {\n  _s2();\n  const peer = useMemo(() => new RTCPeerConnection({\n    iceServers: [{\n      /* STUN 서버 사용하여 WebRTC Peer Connection 매끄롭도록 */\n      urls: [\"stun:stun.l.google.com:19302\", \"stun:global.stun.twilio.com:3478\"]\n    }]\n  }), []);\n  const createOffer = async () => {\n    const offer = await peer.createOffer();\n    await peer.setLocalDescription(offer);\n    return offer;\n  };\n  const createAnswer = async offer => {\n    await peer.setRemoteDescription(offer);\n    const answer = await peer.createAnswer();\n    await peer.setLocalDescription(answer);\n    return answer;\n  };\n  const setRemoteAns = async ans => {\n    await peer.setRemoteDescription(ans);\n  };\n  const sendStream = async stream => {\n    const tracks = stream.getTracks();\n  };\n  return /*#__PURE__*/_jsxDEV(PeerContext.Provider, {\n    value: {\n      peer,\n      createOffer,\n      createAnswer\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s2(PeerProvider, \"kiT5QPzwKAuTQqPmxRvJyKzCZnI=\");\n_c = PeerProvider;\nvar _c;\n$RefreshReg$(_c, \"PeerProvider\");","map":{"version":3,"names":["React","useMemo","jsxDEV","_jsxDEV","PeerContext","createContext","usePeer","_s","useContext","PeerProvider","props","_s2","peer","RTCPeerConnection","iceServers","urls","createOffer","offer","setLocalDescription","createAnswer","setRemoteDescription","answer","setRemoteAns","ans","sendStream","stream","tracks","getTracks","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\n\nconst PeerContext = React.createContext(null);\n\nexport const usePeer = () => React.useContext(PeerContext);\n\nexport const PeerProvider = (props) => {\n    const peer = useMemo(() => new RTCPeerConnection({\n        iceServers : [\n            {\n                /* STUN 서버 사용하여 WebRTC Peer Connection 매끄롭도록 */\n                urls: [\n                    \"stun:stun.l.google.com:19302\",\n                    \"stun:global.stun.twilio.com:3478\"\n                ],\n            },\n        ],    \n     }), \n    []\n); \n\n    const createOffer = async () => {\n        const offer = await peer.createOffer();\n        await peer.setLocalDescription(offer);\n        return offer;\n    };\n\n    const createAnswer = async (offer) => {\n        await peer.setRemoteDescription(offer);\n        const answer = await peer.createAnswer();\n        await peer.setLocalDescription(answer);\n        return answer;\n    };\n\n    const setRemoteAns = async (ans) => {\n        await peer.setRemoteDescription(ans);\n    };\n\n    const sendStream = async(stream) => {\n        const tracks = stream.getTracks();\n    }\n\n    return (\n    <PeerContext.Provider value = {{ peer, createOffer, createAnswer }}>\n        {props.children}\n    </PeerContext.Provider>\n    );  \n};"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,CAAC,IAAI,CAAC;AAE7C,OAAO,MAAMC,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMP,KAAK,CAACQ,UAAU,CAACJ,WAAW,CAAC;AAAA;AAACG,EAAA,CAA9CD,OAAO;AAEpB,OAAO,MAAMG,YAAY,GAAIC,KAAK,IAAK;EAAAC,GAAA;EACnC,MAAMC,IAAI,GAAGX,OAAO,CAAC,MAAM,IAAIY,iBAAiB,CAAC;IAC7CC,UAAU,EAAG,CACT;MACI;MACAC,IAAI,EAAE,CACF,8BAA8B,EAC9B,kCAAkC;IAE1C,CAAC;EAER,CAAC,CAAC,EACH,EACJ,CAAC;EAEG,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,KAAK,GAAG,MAAML,IAAI,CAACI,WAAW,CAAC,CAAC;IACtC,MAAMJ,IAAI,CAACM,mBAAmB,CAACD,KAAK,CAAC;IACrC,OAAOA,KAAK;EAChB,CAAC;EAED,MAAME,YAAY,GAAG,MAAOF,KAAK,IAAK;IAClC,MAAML,IAAI,CAACQ,oBAAoB,CAACH,KAAK,CAAC;IACtC,MAAMI,MAAM,GAAG,MAAMT,IAAI,CAACO,YAAY,CAAC,CAAC;IACxC,MAAMP,IAAI,CAACM,mBAAmB,CAACG,MAAM,CAAC;IACtC,OAAOA,MAAM;EACjB,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,GAAG,IAAK;IAChC,MAAMX,IAAI,CAACQ,oBAAoB,CAACG,GAAG,CAAC;EACxC,CAAC;EAED,MAAMC,UAAU,GAAG,MAAMC,MAAM,IAAK;IAChC,MAAMC,MAAM,GAAGD,MAAM,CAACE,SAAS,CAAC,CAAC;EACrC,CAAC;EAED,oBACAxB,OAAA,CAACC,WAAW,CAACwB,QAAQ;IAACC,KAAK,EAAI;MAAEjB,IAAI;MAAEI,WAAW;MAAEG;IAAa,CAAE;IAAAW,QAAA,EAC9DpB,KAAK,CAACoB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAE3B,CAAC;AAACvB,GAAA,CAzCWF,YAAY;AAAA0B,EAAA,GAAZ1B,YAAY;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}