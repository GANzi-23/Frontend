{"ast":null,"code":"var _jsxFileName = \"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useCallback, useState } from \"react\";\nimport ReactPlayer from 'react-player';\nimport { useSocket } from \"../providers/Socket\";\nimport { usePeer } from \"../providers/Peer\";\nimport '../pages/VideoRoom.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoRoomPage = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    socket\n  } = useSocket();\n  const {\n    peer,\n    createOffer,\n    createAnswer,\n    setRemoteAns,\n    sendStream,\n    remoteStream,\n    handleTrackEvent\n  } = usePeer();\n  // 모델 선택 메뉴\n  const [isModelMenuVisible, setIsModelMenuVisible] = useState(false);\n  // 모델 목록 정의\n  const models = [{\n    id: 1,\n    name: \"Original\"\n  }, {\n    id: 2,\n    name: \"Arcane\"\n  }, {\n    id: 3,\n    name: \"Pixar\"\n  }, {\n    id: 4,\n    name: \"Disney\"\n  }];\n  // 메뉴 표시 토글\n  const toggleModelMenu = () => {\n    setIsModelMenuVisible(!isModelMenuVisible);\n  };\n  const [myStream, setMyStream] = useState(null);\n  // const [remoteStream, setRemoteStream] = useState(null);\n  const [remoteEmailId, setRemoteEmaildId] = useState();\n  const handleNewUserJoined = useCallback(async data => {\n    const {\n      emailId\n    } = data;\n    console.log(\"New user joined the room\", emailId);\n    const offer = await createOffer();\n    socket.emit(\"call-user\", {\n      emailId,\n      offer\n    });\n    setRemoteEmaildId(emailId);\n  }, [createOffer, socket]);\n  const handleIncommingCall = useCallback(async data => {\n    const {\n      from,\n      offer\n    } = data;\n    console.log(\"Incomming Call From\", from, offer);\n    const ans = await createAnswer(offer);\n    socket.emit('call-accepted', {\n      emailId: from,\n      ans\n    });\n    setRemoteEmaildId(from);\n  }, [createAnswer, socket]);\n  const handleCallAccepted = useCallback(async data => {\n    const {\n      ans\n    } = data;\n    console.log('Call Got Accepted', ans);\n    await setRemoteAns(ans);\n    sendStream(myStream);\n  }, [setRemoteAns]);\n  const getUserMediaStream = useCallback(async () => {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: true\n    });\n    sendStream(myStream);\n    setMyStream(stream);\n  }, []);\n  const handleNegosiation = useCallback(() => {\n    const localOffer = peer.localDescription;\n    socket.emit('call-user', {\n      emailId: remoteEmailId,\n      offer: localOffer\n    });\n  }, [peer.localDescription, remoteEmailId, socket]);\n\n  // 채팅\n\n  const ChatBox = () => {\n    _s();\n    const [message, setMessage] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const handleMessageChange = e => {\n      setMessage(e.target.value);\n    };\n    const handleSendMessage = () => {\n      if (message.trim() !== \"\") {\n        setMessages([...messages, message]);\n        setMessage(\"\");\n      }\n    };\n  };\n  _s(ChatBox, \"U9TGHUzUNYWp5NAzD9i91TIyGKE=\");\n  useEffect(() => {\n    // 스크롤\n    const chatBox = document.getElementById(\"chat-box\");\n    chatBox.scrollTop = chatBox.scrollHeight;\n  }, [messages]);\n  useEffect(() => {\n    socket.on(\"user-joined\", handleNewUserJoined);\n    socket.on(\"incomming-call\", handleIncommingCall);\n    socket.on(\"call-accepted\", handleCallAccepted);\n    return () => {\n      socket.off(\"user-joined\", handleNewUserJoined);\n      socket.off(\"incomming-call\", handleIncommingCall);\n      socket.off(\"call-accepted\", handleCallAccepted);\n    };\n  }, [handleCallAccepted, handleIncommingCall, handleNewUserJoined, socket]);\n  useEffect(() => {\n    peer.addEventListener(\"negotiationneeded\", handleNegosiation);\n    return () => {\n      peer.removeEventListener(\"negotiationneeded\", handleNegosiation);\n    };\n  }, [handleTrackEvent, peer]);\n  useEffect(() => {\n    getUserMediaStream();\n  }, [getUserMediaStream]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"videoroom-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/Ganzi1.png\",\n          alt: \"\\uB85C\\uACE0\\uC774\\uBBF8\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"meeting-title\",\n        children: \"Ganzi meeting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"meeting-date\",\n        children: \"9\\uC6D4 11\\uC77C, 2023 |\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"meeting-time\",\n        children: \"11:00 PM\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-name\",\n        children: \"Minah\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/mic.png\",\n        alt: \"mic\",\n        className: \"mic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => sendStream(myStream),\n        className: \"videobutton\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/video.png\",\n          alt: \"videobutton\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/chat.png\",\n        alt: \"chat\",\n        className: \"chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleModelMenu,\n        className: \"plus\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/plus.png\",\n          alt: \"plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this), isModelMenuVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"model-selection-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uB2F9\\uC2E0\\uC758 \\uC544\\uBC14\\uD0C0\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: models.map(model => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: model.name\n          }, model.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/end.png\",\n        alt: \"end\",\n        className: \"end\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-stream\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [remoteEmailId, \" \\uD568\\uAED8 \\uD68C\\uC758\\uC911 \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ReactPlayer, {\n        url: myStream,\n        playing: true,\n        muted: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ReactPlayer, {\n        url: remoteStream,\n        playing: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chat-box\",\n        className: \"chat-box\",\n        children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message\",\n          children: msg\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: message,\n          onChange: handleMessageChange,\n          placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          children: \"\\uC804\\uC1A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s2(VideoRoomPage, \"jmEZKYVRAa6UF883YAB3tidu6Tw=\", false, function () {\n  return [useSocket, usePeer];\n});\n_c = VideoRoomPage;\nexport default VideoRoomPage;\nvar _c;\n$RefreshReg$(_c, \"VideoRoomPage\");","map":{"version":3,"names":["React","useEffect","useCallback","useState","ReactPlayer","useSocket","usePeer","jsxDEV","_jsxDEV","VideoRoomPage","_s2","_s","$RefreshSig$","socket","peer","createOffer","createAnswer","setRemoteAns","sendStream","remoteStream","handleTrackEvent","isModelMenuVisible","setIsModelMenuVisible","models","id","name","toggleModelMenu","myStream","setMyStream","remoteEmailId","setRemoteEmaildId","handleNewUserJoined","data","emailId","console","log","offer","emit","handleIncommingCall","from","ans","handleCallAccepted","getUserMediaStream","stream","navigator","mediaDevices","getUserMedia","audio","video","handleNegosiation","localOffer","localDescription","ChatBox","message","setMessage","messages","setMessages","handleMessageChange","e","target","value","handleSendMessage","trim","chatBox","document","getElementById","scrollTop","scrollHeight","on","off","addEventListener","removeEventListener","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","model","url","playing","muted","msg","index","type","onChange","placeholder","_c","$RefreshReg$"],"sources":["/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useState } from \"react\";\nimport ReactPlayer from 'react-player';\nimport { useSocket } from \"../providers/Socket\";\nimport { usePeer } from \"../providers/Peer\";\nimport '../pages/VideoRoom.css';\n\nconst VideoRoomPage = () => {\n    const { socket } = useSocket();\n    const { peer, createOffer, createAnswer, setRemoteAns, sendStream, remoteStream, handleTrackEvent } = usePeer();\n    // 모델 선택 메뉴\n    const [isModelMenuVisible, setIsModelMenuVisible] = useState(false);\n    // 모델 목록 정의\n    const models = [\n        { id : 1, name: \"Original\"},\n        { id : 2, name: \"Arcane\"},\n        { id : 3, name: \"Pixar\"},\n        { id : 4, name: \"Disney\"}\n    ];\n    // 메뉴 표시 토글\n    const toggleModelMenu = () => {\n        setIsModelMenuVisible(!isModelMenuVisible);\n    };\n\n    const [myStream, setMyStream] = useState(null);\n    // const [remoteStream, setRemoteStream] = useState(null);\n    const [remoteEmailId, setRemoteEmaildId] = useState();\n\n    const handleNewUserJoined = useCallback(async (data) => {\n        const {emailId} = data;\n        console.log(\"New user joined the room\", emailId);\n        const offer = await createOffer();\n        socket.emit(\"call-user\", { emailId, offer });\n        setRemoteEmaildId(emailId)\n    }, [createOffer, socket]);\n\n    const handleIncommingCall = useCallback(async (data) => {\n        const { from, offer } = data;\n        console.log(\"Incomming Call From\", from, offer);\n        const ans = await createAnswer(offer);\n        socket.emit('call-accepted', { emailId: from, ans });\n        setRemoteEmaildId(from)\n    }, [createAnswer, socket]);\n\n    const handleCallAccepted = useCallback(\n        async (data) => {\n        const { ans } = data;\n        console.log('Call Got Accepted', ans);\n        await setRemoteAns(ans);\n        sendStream(myStream);\n    }, [setRemoteAns]\n    );\n\n    const getUserMediaStream = useCallback(async() => {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: true });\n        sendStream(myStream);\n        setMyStream(stream);\n    }, []);\n\n    const handleNegosiation = useCallback(() =>\n    {\n        const localOffer = peer.localDescription;\n        socket.emit('call-user', { emailId: remoteEmailId, offer: localOffer });\n    },[peer.localDescription, remoteEmailId, socket])\n\n\n    // 채팅\n    \n    const ChatBox = () => {\n        const [message, setMessage] = useState(\"\");\n        const [messages, setMessages] = useState([]);\n      \n        const handleMessageChange = (e) => {\n          setMessage(e.target.value);\n        };\n      \n        const handleSendMessage = () => {\n          if (message.trim() !== \"\") {\n            setMessages([...messages, message]);\n            setMessage(\"\");\n          }\n        };\n    };\n      \n        useEffect(() => {\n          // 스크롤\n          const chatBox = document.getElementById(\"chat-box\");\n          chatBox.scrollTop = chatBox.scrollHeight;\n        }, [messages]);\n\n    useEffect(() => {\n        socket.on(\"user-joined\", handleNewUserJoined);\n        socket.on(\"incomming-call\", handleIncommingCall);\n        socket.on(\"call-accepted\", handleCallAccepted);\n\n        return () => {\n            socket.off(\"user-joined\", handleNewUserJoined);\n            socket.off(\"incomming-call\", handleIncommingCall);\n            socket.off(\"call-accepted\", handleCallAccepted);\n        }\n\n    }, [handleCallAccepted, handleIncommingCall, handleNewUserJoined, socket]);\n\n    useEffect(() => {\n        peer.addEventListener(\"negotiationneeded\",handleNegosiation);\n        return () => {\n            peer.removeEventListener(\"negotiationneeded\", handleNegosiation);\n        };\n    }, [handleTrackEvent, peer]);\n\n    useEffect(() => {\n        getUserMediaStream();\n    }, [getUserMediaStream])\n\n    return(\n    <div className='videoroom-page-container'>\n        {/* 헤더 바 */}\n        <div className=\"header-bar\">\n            <div className='logo-container'>\n               <img src=\"/images/Ganzi1.png\" alt=\"로고이미지\"/>\n            </div>\n            <div className=\"meeting-title\">Ganzi meeting</div>\n            <div className=\"meeting-date\">9월 11일, 2023 |</div>\n            <div className=\"meeting-time\">11:00 PM</div>\n            <div className=\"user-name\">Minah</div>\n        </div>\n\n        {/* 비디오 스트림 화면 */}\n        \n\n        {/* 하단 바 */}\n        <div className=\"bottom-bar\">\n            <img src=\"/images/mic.png\" alt=\"mic\" className=\"mic\" />\n            <button onClick={(e) => sendStream(myStream)} className=\"videobutton\">\n                <img src=\"/images/video.png\" alt=\"videobutton\" />\n            </button>\n            <img src=\"/images/chat.png\" alt=\"chat\" className=\"chat\" />\n            <button onClick={toggleModelMenu} className=\"plus\">\n                <img src=\"/images/plus.png\" alt=\"plus\" />\n            </button>\n            {isModelMenuVisible && (\n                <div className=\"model-selection-menu\">\n                <h4>당신의 아바타를 선택하세요!</h4>\n                <ul>\n                    {models.map((model) => (\n                        <li key={model.id}>{model.name}</li>\n                    ))}\n                </ul>\n                </div>\n            )}\n            <img src=\"/images/end.png\" alt=\"end\" className=\"end\" />\n        </div>\n\n        <div className=\"video-stream\">\n            {/* <h1>VideoRoom Page</h1> */}\n            <h4>{remoteEmailId} 함께 회의중 </h4>\n            <ReactPlayer url={myStream} playing muted />\n            <ReactPlayer url={remoteStream} playing />\n        </div>\n\n        <div className=\"chat\">\n        <div id=\"chat-box\" className=\"chat-box\">\n            {messages.map((msg, index) => (\n            <div key={index} className=\"message\">\n                {msg}\n            </div>\n            ))}\n        </div>\n        <div className=\"message-input\">\n            <input\n            type=\"text\"\n            value={message}\n            onChange={handleMessageChange}\n            placeholder=\"메시지를 입력하세요\"\n            />\n        <button onClick={handleSendMessage}>전송</button>\n      </div>\n    </div>\n    \n        {/* <h1>VideoRoom Page</h1>\n        <h4>Your are connected to {remoteEmailId}</h4>\n        <button onClick={(e) => sendStream(myStream)}>Video</button>\n        <ReactPlayer url={myStream} playing muted />\n        <ReactPlayer url={remoteStream} playing /> */}\n    </div>\n    );\n};\n\nexport default VideoRoomPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}