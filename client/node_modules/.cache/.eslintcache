[{"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/index.js":"1","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/reportWebVitals.js":"2","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/App.js":"3","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/StartVideo.jsx":"4","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Socket.jsx":"5","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx":"6","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx":"7","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Account.jsx":"8","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Login.jsx":"9"},{"size":623,"mtime":1695467377643,"results":"10","hashOfConfig":"11"},{"size":363,"mtime":1695549429498,"results":"12","hashOfConfig":"11"},{"size":846,"mtime":1699004999010,"results":"13","hashOfConfig":"11"},{"size":2133,"mtime":1695532093667,"results":"14","hashOfConfig":"11"},{"size":488,"mtime":1695480089119,"results":"15","hashOfConfig":"11"},{"size":4432,"mtime":1695553224241,"results":"16","hashOfConfig":"11"},{"size":2039,"mtime":1695537727580,"results":"17","hashOfConfig":"11"},{"size":3209,"mtime":1699017674095,"results":"18","hashOfConfig":"11"},{"size":3130,"mtime":1699017704983,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},"vkww9k",{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/index.js",[],[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/reportWebVitals.js",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/App.js",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/StartVideo.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Socket.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx",["49","50"],[],"import React, { useEffect, useCallback, useState } from \"react\";\nimport ReactPlayer from 'react-player';\nimport { useSocket } from \"../providers/Socket\";\nimport { usePeer } from \"../providers/Peer\";\nimport '../pages/VideoRoom.css';\n\nconst VideoRoomPage = () => {\n    const { socket } = useSocket();\n    const { peer, createOffer, createAnswer, setRemoteAns, sendStream, remoteStream, handleTrackEvent } = usePeer();\n    \n    const [myStream, setMyStream] = useState(null);\n    // const [remoteStream, setRemoteStream] = useState(null);\n    const [remoteEmailId, setRemoteEmaildId] = useState();\n\n    const handleNewUserJoined = useCallback(async (data) => {\n        const {emailId} = data;\n        console.log(\"New user joined the room\", emailId);\n        const offer = await createOffer();\n        socket.emit(\"call-user\", { emailId, offer });\n        setRemoteEmaildId(emailId)\n    }, [createOffer, socket]);\n\n    const handleIncommingCall = useCallback(async (data) => {\n        const { from, offer } = data;\n        console.log(\"Incomming Call From\", from, offer);\n        const ans = await createAnswer(offer);\n        socket.emit('call-accept', { emailId: from, ans });\n        setRemoteEmaildId(from)\n    }, [createAnswer, socket]);\n\n    const handleCallAccepted = useCallback(\n        async (data) => {\n        const { ans } = data;\n        console.log('Call Got Accepted', ans);\n        await setRemoteAns(ans);\n        // sendStream(myStream);\n    }, [setRemoteAns]\n    );\n\n    const getUserMediaStream = useCallback(async() => {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: true });\n        // sendStream(stream);\n        setMyStream(stream);\n    }, [])\n\n    const handleNegosiation = useCallback(() =>\n    {\n        const localOffer = peer.localDescription;\n        socket.emit('call-user', { emailId: remoteEmailId, offer: localOffer });\n    },[peer.localDescription, remoteEmailId, socket])\n\n    useEffect(() => {\n        socket.on(\"user-joined\", handleNewUserJoined);\n        socket.on(\"incomming-call\", handleIncommingCall);\n        socket.on(\"call-accepted\", handleCallAccepted);\n\n        return () => {\n            socket.off(\"user-joined\", handleNewUserJoined);\n            socket.off(\"incomming-call\", handleIncommingCall);\n            socket.off(\"call-accepted\", handleIncommingCall);\n        }\n\n    }, [handleIncommingCall, handleIncommingCall, handleNewUserJoined, socket]);\n\n    useEffect(() => {\n        peer.addEventListener(\"negotiationneeded\",handleNegosiation);\n        return () => {\n            peer.removeEventListener(\"negotiationneeded\", handleNegosiation);\n        };\n    }, [handleTrackEvent, peer]);\n\n    useEffect(() => {\n        getUserMediaStream();\n    }, [getUserMediaStream])\n\n    return(\n    <div className='videoroom-page-container'>\n        {/* 헤더 바 */}\n        <div className=\"header-bar\">\n            <div className='logo-container'>\n               <img src=\"/images/Ganzi1.png\" alt=\"로고이미지\"/>\n            </div>\n            <div className=\"meeting-title\">Ganzi meeting</div>\n            <div className=\"meeting-date\">9월 11일, 2023 |</div>\n            <div className=\"meeting-time\">11:00 PM</div>\n            <div className=\"user-name\">Minah</div>\n        </div>\n\n        {/* 비디오 스트림 화면 */}\n        <div className=\"video-stream\">\n            {/* <h1>VideoRoom Page</h1> */}\n            <h4>{remoteEmailId} 함께 회의중 </h4>\n            <ReactPlayer url={myStream} playing muted />\n            <ReactPlayer url={remoteStream} playing />\n        </div>\n\n        {/* 하단 바 */}\n        <div className=\"bottom-bar\">\n            <img src=\"/images/mic.png\" alt=\"mic\" className=\"mic\" />\n            <button onClick={(e) => sendStream(myStream)} className=\"videobutton\">\n                <img src=\"/images/video.png\" alt=\"videobutton\" />\n            </button>\n            <img src=\"/images/chat.png\" alt=\"chat\" className=\"chat\" />\n            <img src=\"/images/plus.png\" alt=\"end\" className=\"plus\" />\n            <img src=\"/images/end.png\" alt=\"end\" className=\"end\" />\n        </div>\n    \n        {/* <h1>VideoRoom Page</h1>\n        <h4>Your are connected to {remoteEmailId}</h4>\n        <button onClick={(e) => sendStream(myStream)}>Video</button>\n        <ReactPlayer url={myStream} playing muted />\n        <ReactPlayer url={remoteStream} playing /> */}\n    </div>\n    );\n};\n\nexport default VideoRoomPage;","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx",["51"],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Account.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Login.jsx",[],[],{"ruleId":"52","severity":1,"message":"53","line":63,"column":8,"nodeType":"54","endLine":63,"endColumn":79,"suggestions":"55"},{"ruleId":"52","severity":1,"message":"56","line":70,"column":8,"nodeType":"54","endLine":70,"endColumn":32,"suggestions":"57"},{"ruleId":"58","severity":1,"message":"59","line":8,"column":12,"nodeType":"60","messageId":"61","endLine":8,"endColumn":24},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleCallAccepted'. Either include it or remove the dependency array.","ArrayExpression",["62"],"React Hook useEffect has a missing dependency: 'handleNegosiation'. Either include it or remove the dependency array.",["63"],"no-unused-vars","'remoteStream' is assigned a value but never used.","Identifier","unusedVar",{"desc":"64","fix":"65"},{"desc":"66","fix":"67"},"Update the dependencies array to be: [handleCallAccepted, handleIncommingCall, handleNewUserJoined, socket]",{"range":"68","text":"69"},"Update the dependencies array to be: [handleNegosiation, handleTrackEvent, peer]",{"range":"70","text":"71"},[2366,2437],"[handleCallAccepted, handleIncommingCall, handleNewUserJoined, socket]",[2652,2676],"[handleNegosiation, handleTrackEvent, peer]"]