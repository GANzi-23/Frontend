[{"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/index.js":"1","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/reportWebVitals.js":"2","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/App.js":"3","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/StartVideo.jsx":"4","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Socket.jsx":"5","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx":"6","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx":"7","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Account.jsx":"8","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Login.jsx":"9"},{"size":623,"mtime":1695467377643,"results":"10","hashOfConfig":"11"},{"size":363,"mtime":1695549429498,"results":"12","hashOfConfig":"11"},{"size":846,"mtime":1699004999010,"results":"13","hashOfConfig":"11"},{"size":2136,"mtime":1699590220969,"results":"14","hashOfConfig":"11"},{"size":489,"mtime":1699582155514,"results":"15","hashOfConfig":"11"},{"size":5297,"mtime":1699603570700,"results":"16","hashOfConfig":"11"},{"size":2053,"mtime":1699599011586,"results":"17","hashOfConfig":"11"},{"size":3209,"mtime":1699017674095,"results":"18","hashOfConfig":"11"},{"size":3130,"mtime":1699017704983,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},"vkww9k",{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/index.js",[],[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/reportWebVitals.js",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/App.js",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/StartVideo.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Socket.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/VideoRoom.jsx",["49","50","51"],[],"import React, { useEffect, useCallback, useState } from \"react\";\nimport ReactPlayer from 'react-player';\nimport { useSocket } from \"../providers/Socket\";\nimport { usePeer } from \"../providers/Peer\";\nimport '../pages/VideoRoom.css';\n\nconst VideoRoomPage = () => {\n    const { socket } = useSocket();\n    const { peer, createOffer, createAnswer, setRemoteAns, sendStream, remoteStream, handleTrackEvent } = usePeer();\n    // 모델 선택 메뉴\n    const [isModelMenuVisible, setIsModelMenuVisible] = useState(false);\n    // 모델 목록 정의\n    const models = [\n        { id : 1, name: \"Original\"},\n        { id : 2, name: \"Arcane\"},\n        { id : 3, name: \"Pixar\"},\n        { id : 4, name: \"Disney\"}\n    ];\n    // 메뉴 표시 토글\n    const toggleModelMenu = () => {\n        setIsModelMenuVisible(!isModelMenuVisible);\n    };\n\n    const [myStream, setMyStream] = useState(null);\n    // const [remoteStream, setRemoteStream] = useState(null);\n    const [remoteEmailId, setRemoteEmaildId] = useState();\n\n    const handleNewUserJoined = useCallback(async (data) => {\n        const {emailId} = data;\n        console.log(\"New user joined the room\", emailId);\n        const offer = await createOffer();\n        socket.emit(\"call-user\", { emailId, offer });\n        setRemoteEmaildId(emailId)\n    }, [createOffer, socket]);\n\n    const handleIncommingCall = useCallback(async (data) => {\n        const { from, offer } = data;\n        console.log(\"Incomming Call From\", from, offer);\n        const ans = await createAnswer(offer);\n        socket.emit('call-accepted', { emailId: from, ans });\n        setRemoteEmaildId(from)\n    }, [createAnswer, socket]);\n\n    const handleCallAccepted = useCallback(\n        async (data) => {\n        const { ans } = data;\n        console.log('Call Got Accepted', ans);\n        await setRemoteAns(ans);\n        sendStream(myStream);\n    }, [setRemoteAns]\n    );\n\n    const getUserMediaStream = useCallback(async() => {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: true });\n        sendStream(myStream);\n        setMyStream(stream);\n    }, []);\n\n    const handleNegosiation = useCallback(() =>\n    {\n        const localOffer = peer.localDescription;\n        socket.emit('call-user', { emailId: remoteEmailId, offer: localOffer });\n    },[peer.localDescription, remoteEmailId, socket])\n\n    useEffect(() => {\n        socket.on(\"user-joined\", handleNewUserJoined);\n        socket.on(\"incomming-call\", handleIncommingCall);\n        socket.on(\"call-accepted\", handleCallAccepted);\n\n        return () => {\n            socket.off(\"user-joined\", handleNewUserJoined);\n            socket.off(\"incomming-call\", handleIncommingCall);\n            socket.off(\"call-accepted\", handleCallAccepted);\n        }\n\n    }, [handleCallAccepted, handleIncommingCall, handleNewUserJoined, socket]);\n\n    useEffect(() => {\n        peer.addEventListener(\"negotiationneeded\",handleNegosiation);\n        return () => {\n            peer.removeEventListener(\"negotiationneeded\", handleNegosiation);\n        };\n    }, [handleTrackEvent, peer]);\n\n    useEffect(() => {\n        getUserMediaStream();\n    }, [getUserMediaStream])\n\n    return(\n    <div className='videoroom-page-container'>\n        {/* 헤더 바 */}\n        <div className=\"header-bar\">\n            <div className='logo-container'>\n               <img src=\"/images/Ganzi1.png\" alt=\"로고이미지\"/>\n            </div>\n            <div className=\"meeting-title\">Ganzi meeting</div>\n            <div className=\"meeting-date\">9월 11일, 2023 |</div>\n            <div className=\"meeting-time\">11:00 PM</div>\n            <div className=\"user-name\">Minah</div>\n        </div>\n\n        {/* 비디오 스트림 화면 */}\n        \n\n        {/* 하단 바 */}\n        <div className=\"bottom-bar\">\n            <img src=\"/images/mic.png\" alt=\"mic\" className=\"mic\" />\n            <button onClick={(e) => sendStream(myStream)} className=\"videobutton\">\n                <img src=\"/images/video.png\" alt=\"videobutton\" />\n            </button>\n            <img src=\"/images/chat.png\" alt=\"chat\" className=\"chat\" />\n            <button onClick={toggleModelMenu} className=\"plus\">\n                <img src=\"/images/plus.png\" alt=\"plus\" />\n            </button>\n            {isModelMenuVisible && (\n                <div className=\"model-selection-menu\">\n                <h4>당신의 아바타를 선택하세요!</h4>\n                <ul>\n                    {models.map((model) => (\n                        <li key={model.id}>{model.name}</li>\n                    ))}\n                </ul>\n                </div>\n            )}\n            <img src=\"/images/end.png\" alt=\"end\" className=\"end\" />\n        </div>\n\n        <div className=\"video-stream\">\n            {/* <h1>VideoRoom Page</h1> */}\n            <h4>{remoteEmailId} 함께 회의중 </h4>\n            <ReactPlayer url={myStream} playing muted />\n            <ReactPlayer url={remoteStream} playing />\n        </div>\n    \n        {/* <h1>VideoRoom Page</h1>\n        <h4>Your are connected to {remoteEmailId}</h4>\n        <button onClick={(e) => sendStream(myStream)}>Video</button>\n        <ReactPlayer url={myStream} playing muted />\n        <ReactPlayer url={remoteStream} playing /> */}\n    </div>\n    );\n};\n\nexport default VideoRoomPage;","/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/providers/Peer.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Account.jsx",[],[],"/Users/mina/Desktop/Ganzi_Frontend/Frontend/client/src/pages/Login.jsx",[],[],{"ruleId":"52","severity":1,"message":"53","line":50,"column":8,"nodeType":"54","endLine":50,"endColumn":22,"suggestions":"55"},{"ruleId":"52","severity":1,"message":"53","line":57,"column":8,"nodeType":"54","endLine":57,"endColumn":10,"suggestions":"56"},{"ruleId":"52","severity":1,"message":"57","line":83,"column":8,"nodeType":"54","endLine":83,"endColumn":32,"suggestions":"58"},"react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'myStream' and 'sendStream'. Either include them or remove the dependency array.","ArrayExpression",["59"],["60"],"React Hook useEffect has a missing dependency: 'handleNegosiation'. Either include it or remove the dependency array.",["61"],{"desc":"62","fix":"63"},{"desc":"64","fix":"65"},{"desc":"66","fix":"67"},"Update the dependencies array to be: [myStream, sendStream, setRemoteAns]",{"range":"68","text":"69"},"Update the dependencies array to be: [myStream, sendStream]",{"range":"70","text":"71"},"Update the dependencies array to be: [handleNegosiation, handleTrackEvent, peer]",{"range":"72","text":"73"},[1840,1854],"[myStream, sendStream, setRemoteAns]",[2081,2083],"[myStream, sendStream]",[3029,3053],"[handleNegosiation, handleTrackEvent, peer]"]